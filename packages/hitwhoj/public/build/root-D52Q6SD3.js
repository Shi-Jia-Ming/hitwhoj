import {
  b as E,
  d as j,
  e as W,
  f as U,
  g as I,
} from "/build/_shared/chunk-ANJHU2RD.js";
import { a as b } from "/build/_shared/chunk-BQKSLDHG.js";
import { a as Y } from "/build/_shared/chunk-F7TWK4YF.js";
import { a as _, b as Q } from "/build/_shared/chunk-C6VOOSKL.js";
import { a as u, b as t1 } from "/build/_shared/chunk-WF674727.js";
import { a as M, b as c1, c as a1 } from "/build/_shared/chunk-YFBG3YAE.js";
import { a as l1, b as r1 } from "/build/_shared/chunk-ZPF2YCTJ.js";
import { b as J, c as $ } from "/build/_shared/chunk-33FVQFAB.js";
import { c as p, d as x, e as O } from "/build/_shared/chunk-ASHX7EDV.js";
import {
  D as X,
  I as K,
  a as m,
  b as y,
  c as k,
  e as A,
  f as F,
  h as Z,
  i as T,
  j as q,
  n as R,
  p as P,
  q as D,
  v as N,
  z as G,
} from "/build/_shared/chunk-KLFOMCVP.js";
import { a as s1 } from "/build/_shared/chunk-XIHPQXCX.js";
import {
  a as w,
  e as l,
  f as h,
  g as H,
  h as V,
  i as C,
  k as L,
  q as B,
} from "/build/_shared/chunk-IYNQWWEV.js";
import { b as m1, c as S } from "/build/_shared/chunk-P4KF3DFI.js";
import { d as g } from "/build/_shared/chunk-G5WX4PPA.js";
var n = g(m1());
var w1 = g(s1());
function e1(e) {
  return m({
    tag: "svg",
    attr: { viewBox: "0 0 448 512" },
    child: [
      {
        tag: "path",
        attr: {
          d: "M446.7 98.6l-67.6 318.8c-5.1 22.5-18.4 28.1-37.3 17.5l-103-75.9-49.7 47.8c-5.5 5.5-10.1 10.1-20.7 10.1l7.4-104.9 190.9-172.5c8.3-7.4-1.8-11.5-12.9-4.1L117.8 284 16.2 252.2c-22.1-6.9-22.5-22.1 4.6-32.7L418.2 66.4c18.4-6.9 34.5 4.1 28.5 32.2z",
        },
      },
    ],
  })(e);
}
function i1(e) {
  return m({
    tag: "svg",
    attr: { role: "img", viewBox: "0 0 24 24" },
    child: [
      { tag: "title", attr: {}, child: [] },
      {
        tag: "path",
        attr: {
          d: "M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm-1.314 4.715c3.289 0 5.956 2.66 5.956 5.943 0 .484-.394.877-.879.877s-.879-.393-.879-.877c0-2.313-1.88-4.189-4.198-4.189-.486 0-.879-.393-.879-.877s.392-.877.879-.877zm-5.092 9.504c-.486 0-.879-.394-.879-.877 0-3.283 2.666-5.945 5.956-5.945.485 0 .879.393.879.877s-.394.876-.879.876c-2.319 0-4.198 1.877-4.198 4.191 0 .484-.395.878-.879.878zm7.735 5.067c-3.29 0-5.957-2.662-5.957-5.944 0-.484.394-.878.879-.878s.879.394.879.878c0 2.313 1.88 4.189 4.199 4.189.485 0 .879.393.879.877 0 .486-.394.878-.879.878zm0-2.683c-.485 0-.88-.393-.88-.876 0-.484.395-.878.88-.878 2.318 0 4.199-1.876 4.199-4.19 0-.484.393-.877.879-.877.485 0 .879.393.879.877 0 3.282-2.667 5.944-5.957 5.944z",
        },
      },
    ],
  })(e);
}
var h1 = "v0.0.1-alpha.20230310";
var o1 = "/build/_assets/app-WDBYSYDR.css";
var v1 = "/build/_assets/katex-R7R4CHAH.css";
var v = "/build/_assets/ad-S4U2ATQN.jpg";
var s = "/build/_assets/hitwh-HX2V6R42.png";
var n1 = "/build/_assets/qq-TKHMW4ZN.svg";
var t = g(S()),
  H1 = () => [
    { rel: "stylesheet", href: o1 },
    { rel: "stylesheet", href: v1 },
    { rel: "preload", href: v, as: "image" },
    { rel: "preload", href: s, as: "image" },
    { rel: "preload", href: n1, as: "image" },
  ],
  V1 =
    "https://qm.qq.com/cgi-bin/qm/qr?k=uFHY05vPwIamUXG6L-xDQvhkA0acwZqA&jump_from=webapi&authKey=96ylLScWBoTxF6zMOsP7wdIbC/7PN1bMs5T74AIOpqeBE6h4NAGnYx/ngkxkVhyx";
var C1 = {
    info: "alert-info",
    success: "alert-success",
    error: "alert-error",
    warning: "alert-warning",
  },
  d = [
    {
      title: "\u5E7F\u544A\u4F4D0\u62DB\u79DF",
      content:
        "\u5E7F\u544A\u4F4D\u6EDE\u9500\uFF0C\u6551\u6551\u6211\u4EEC\u{1F62D}",
      image: v,
    },
    {
      title: "\u5E7F\u544A\u4F4D1\u62DB\u79DF",
      content:
        "\u5E7F\u544A\u4F4D1\u6EDE\u9500\uFF0C\u6551\u6551\u6211\u4EEC\u{1F62D}",
      image: v,
    },
    {
      title: "\u5E7F\u544A\u4F4D2\u62DB\u79DF",
      content:
        "\u5E7F\u544A\u4F4D2\u6EDE\u9500\uFF0C\u6551\u6551\u6211\u4EEC\u{1F62D}",
      image: v,
    },
  ];
function z1() {
  let e = $(),
    r = p(e.value.theme),
    i = x(() => e.value.user),
    g1 = x(() => e.value.user?.id ?? null),
    z = t1();
  (0, n.useEffect)(() => {
    document.cookie.includes("theme=") ||
      (window.matchMedia("(prefers-color-scheme: dark)").matches &&
        (r.value = "dark"));
  }, []),
    L(
      (0, n.useCallback)(() => {
        document.cookie = `theme=${r.value}; Path=/; Max-Age=31536000; SameSite=Lax;`;
      }, [r.value])
    ),
    O(() => {
      if (g1.value) {
        let c = b("/chat/events").subscribe((a) => {
          z.info(
            `\u6536\u5230\u6765\u81EA ${
              a.from.nickname || a.from.username
            } \u7684\u65B0\u6D88\u606F`
          );
        });
        return () => c.unsubscribe();
      }
    });
  let o = J();
  (0, n.useEffect)(() => {
    o.actionSuccess &&
      o.data &&
      (o.data.success
        ? z.success("\u9000\u51FA\u767B\u5F55\u6210\u529F")
        : z.error(o.data.reason ?? "\u9000\u51FA\u767B\u5F55\u5931\u8D25"));
  }, [o.actionSuccess]);
  let f = p(!0);
  return (0, t.jsxs)("html", {
    lang: "zh-Hans",
    "data-theme": r.value,
    children: [
      (0, t.jsxs)("head", {
        children: [
          (0, t.jsx)("meta", { charSet: "utf-8" }),
          (0, t.jsx)("meta", {
            name: "viewport",
            content: "width=device-width,initial-scale=1",
          }),
          (0, t.jsx)("meta", {
            name: "color-scheme",
            content: Q.includes(r.value) ? "dark" : "light",
          }),
          (0, t.jsx)(V, {}),
          (0, t.jsx)(H, {}),
        ],
      }),
      (0, t.jsxs)("body", {
        className: "relative font-sans",
        children: [
          (0, t.jsxs)("div", {
            className: `drawer bg-base-100 ${M.value ? "drawer-mobile" : ""}`,
            children: [
              (0, t.jsx)("input", {
                id: "drawer-menu",
                type: "checkbox",
                className: "drawer-toggle",
              }),
              (0, t.jsxs)("div", {
                className: "drawer-content flex h-full flex-col",
                children: [
                  (0, t.jsx)("div", {
                    className: `sticky top-0 z-30 backdrop-blur transition-all ${
                      M.value ? "" : "-translate-y-full"
                    }`,
                    children: (0, t.jsxs)("nav", {
                      className: "navbar flex w-full justify-end gap-4",
                      children: [
                        (0, t.jsxs)("div", {
                          className: "flex flex-1 gap-2 lg:hidden",
                          children: [
                            (0, t.jsx)("label", {
                              className: "btn btn-ghost btn-square",
                              htmlFor: "drawer-menu",
                              children: (0, t.jsx)(G, { className: "h-6 w-6" }),
                            }),
                            (0, t.jsxs)(h, {
                              className: "flex-0 btn btn-ghost px-2 text-3xl",
                              to: "/",
                              children: [
                                (0, t.jsx)("span", {
                                  className: "text-primary lowercase",
                                  children: "hitwh",
                                }),
                                (0, t.jsx)("span", { children: "OJ" }),
                              ],
                            }),
                          ],
                        }),
                        (0, t.jsxs)("div", {
                          className: "dropdown dropdown-end",
                          children: [
                            (0, t.jsxs)("div", {
                              className: "btn btn-ghost gap-2 normal-case",
                              tabIndex: 0,
                              children: [
                                (0, t.jsx)(D, { className: "h-6 w-6" }),
                                (0, t.jsx)("span", {
                                  className: "hidden md:inline-block",
                                  children: "\u4E3B\u9898",
                                }),
                                (0, t.jsx)(Z, {
                                  className: "hidden h-3 w-3 md:block",
                                }),
                              ],
                            }),
                            (0, t.jsx)("div", {
                              className:
                                "dropdown-content rounded-t-box rounded-b-box bg-base-200 text-base-content top-0 mt-16 h-[70vh] max-h-96 w-52 overflow-y-auto shadow-2xl",
                              children: (0, t.jsx)("div", {
                                className: "grid grid-cols-1 gap-3 p-3",
                                tabIndex: 0,
                                children: _.map((c) =>
                                  (0, t.jsx)(
                                    "div",
                                    {
                                      "data-theme": c,
                                      className: `text-base-content cursor-pointer rounded-lg p-3 font-sans font-bold outline-2 outline-offset-2${
                                        r.value === c ? " outline" : ""
                                      }`,
                                      onClick: () => (r.value = c),
                                      children: c,
                                    },
                                    c
                                  )
                                ),
                              }),
                            }),
                          ],
                        }),
                        i.value
                          ? (0, t.jsxs)("div", {
                              className: "dropdown-end dropdown h-12 w-12",
                              children: [
                                (0, t.jsx)(Y, {
                                  user: i.value,
                                  tabIndex: 0,
                                  className:
                                    "bg-base-300 h-12 w-12 cursor-pointer text-2xl",
                                }),
                                (0, t.jsxs)("ul", {
                                  className:
                                    "dropdown-content menu rounded-t-box rounded-b-box bg-base-200 text-base-content top-0 mt-16 w-52 p-4 shadow-2xl",
                                  children: [
                                    (0, t.jsx)("li", {
                                      children: (0, t.jsxs)(h, {
                                        to: `/user/${i.value.id}`,
                                        children: [
                                          (0, t.jsx)(j, {}),
                                          (0, t.jsx)("span", {
                                            children: "\u8D44\u6599",
                                          }),
                                        ],
                                      }),
                                    }),
                                    (0, t.jsx)("li", {
                                      children: (0, t.jsxs)(h, {
                                        to: "/chat/user",
                                        children: [
                                          (0, t.jsx)(F, {}),
                                          (0, t.jsx)("span", {
                                            children: "\u804A\u5929",
                                          }),
                                        ],
                                      }),
                                    }),
                                    (0, t.jsx)("li", {
                                      children: (0, t.jsxs)(o.Form, {
                                        action: "/logout",
                                        method: "post",
                                        children: [
                                          (0, t.jsx)(y, {}),
                                          (0, t.jsx)("button", {
                                            type: "submit",
                                            children:
                                              "\u9000\u51FA\u767B\u5F55",
                                          }),
                                        ],
                                      }),
                                    }),
                                  ],
                                }),
                              ],
                            })
                          : (0, t.jsxs)(t.Fragment, {
                              children: [
                                (0, t.jsx)(h, {
                                  className: "btn btn-outline",
                                  to: "/login",
                                  children: "\u767B\u5F55",
                                }),
                                (0, t.jsx)(h, {
                                  className: "btn btn-primary",
                                  to: "/register",
                                  children: "\u6CE8\u518C",
                                }),
                              ],
                            }),
                      ],
                    }),
                  }),
                  (0, t.jsx)("div", {
                    className: "flex-1 p-6",
                    children: (0, t.jsx)("div", {
                      className: "prose w-full max-w-4xl",
                      children: (0, t.jsx)(a1.Provider, {
                        value: r.value,
                        children: (0, t.jsx)(c1.Provider, {
                          value: i.value && i.value.id,
                          children: (0, t.jsx)(w, {}),
                        }),
                      }),
                    }),
                  }),
                  (0, t.jsxs)("footer", {
                    className: "footer bg-neutral text-neutral-content p-10",
                    children: [
                      (0, t.jsxs)("div", {
                        children: [
                          (0, t.jsx)("span", {
                            className: "footer-title",
                            children: "About",
                          }),
                          (0, t.jsx)("a", {
                            href: "https://www.hitwh.edu.cn/",
                            target: "_blank",
                            rel: "noreferrer",
                            children: (0, t.jsx)("div", {
                              className:
                                "bg-neutral-content h-[48px] w-[221px]",
                              style: {
                                maskImage: `url(${s})`,
                                maskSize: "cover",
                                WebkitMaskImage: `url(${s})`,
                                WebkitMaskSize: "cover",
                              },
                            }),
                          }),
                          (0, t.jsxs)("p", {
                            children: [
                              "HITwh OJ Dev Team. Presents",
                              (0, t.jsx)("br", {}),
                              "Providing unstable service since 2022",
                            ],
                          }),
                        ],
                      }),
                      (0, t.jsxs)("div", {
                        className: f.value ? "max-w-sm" : "hidden",
                        children: [
                          (0, t.jsxs)("span", {
                            className: "footer-title",
                            children: [
                              "Advertisement",
                              (0, t.jsx)("button", {
                                className: "btn btn-circle btn-xs ml-3",
                                onClick: () => (f.value = !1),
                                children: (0, t.jsx)(k, {}),
                              }),
                            ],
                          }),
                          (0, t.jsx)("div", {
                            className: "carousel w-full",
                            children: d.map((c, a) =>
                              (0, t.jsxs)(
                                "div",
                                {
                                  id: `advertise-${a}`,
                                  className:
                                    "card carousel-item card-side w-full",
                                  children: [
                                    (0, t.jsx)("figure", {
                                      children: (0, t.jsx)("img", {
                                        src: c.image,
                                        alt: "ad",
                                        className: "h-24 w-24 cursor-pointer",
                                        onClick: () =>
                                          z.info(
                                            "\u60A8\u83B7\u5F97\u4E86\u300C\u5C60\u9F99\u5B9D\u5200\u300D*1"
                                          ),
                                      }),
                                    }),
                                    (0, t.jsxs)("div", {
                                      className: "card-body",
                                      children: [
                                        (0, t.jsx)("div", {
                                          className: "card-title",
                                          children: c.title,
                                        }),
                                        (0, t.jsx)("p", {
                                          children: c.content,
                                        }),
                                        (0, t.jsxs)("div", {
                                          className: "card-actions justify-end",
                                          children: [
                                            (0, t.jsx)("a", {
                                              className:
                                                "btn btn-circle btn-sm",
                                              href: `#advertise-${
                                                (a - 1 + d.length) % d.length
                                              }`,
                                              children: (0, t.jsx)(T, {}),
                                            }),
                                            (0, t.jsx)("a", {
                                              className:
                                                "btn btn-circle btn-sm",
                                              href: `#advertise-${
                                                (a + 1) % d.length
                                              }`,
                                              children: (0, t.jsx)(q, {}),
                                            }),
                                          ],
                                        }),
                                      ],
                                    }),
                                  ],
                                },
                                a
                              )
                            ),
                          }),
                        ],
                      }),
                      (0, t.jsxs)("div", {
                        children: [
                          (0, t.jsx)("span", {
                            className: "footer-title",
                            children: "Contact",
                          }),
                          (0, t.jsxs)("div", {
                            className: "grid grid-flow-col gap-4",
                            children: [
                              (0, t.jsx)("a", {
                                target: "_blank",
                                href: V1,
                                className:
                                  "tooltip tooltip-bottom tooltip-info",
                                "data-tip":
                                  "HITwh OJ \u53CD\u9988\xD7\u5439\u6C34",
                                rel: "noreferrer",
                                children: (0, t.jsx)(W, {
                                  className: "h-6 w-6",
                                }),
                              }),
                              (0, t.jsx)("span", {
                                className:
                                  "tooltip tooltip-bottom tooltip-info",
                                "data-tip":
                                  "\u5F88\u9057\u61BE\uFF0C\u6211\u4EEC\u5E76\u6CA1\u6709\u5FAE\u4FE1\u53CD\u9988\u7FA4~",
                                children: (0, t.jsx)(I, {
                                  className: "h-6 w-6",
                                }),
                              }),
                              (0, t.jsx)("a", {
                                href: "https://t.me/hitwhmoe",
                                target: "_blank",
                                rel: "noreferrer",
                                className:
                                  "tooltip tooltip-bottom tooltip-info",
                                "data-tip": "@hitwhmoe",
                                children: (0, t.jsx)(e1, {
                                  className: "h-6 w-6",
                                }),
                              }),
                              (0, t.jsx)("a", {
                                href: "https://matrix.to/#/#hitwh:mozilla.org",
                                target: "_blank",
                                rel: "noreferrer",
                                className:
                                  "tooltip tooltip-bottom tooltip-info",
                                "data-tip": "#hitwh:mozilla.org",
                                children: (0, t.jsx)(i1, {
                                  className: "h-6 w-6",
                                }),
                              }),
                            ],
                          }),
                        ],
                      }),
                    ],
                  }),
                ],
              }),
              (0, t.jsxs)("div", {
                className: "drawer-side",
                children: [
                  (0, t.jsx)("label", {
                    htmlFor: "drawer-menu",
                    className: "drawer-overlay",
                  }),
                  (0, t.jsxs)("aside", {
                    className: "bg-base-200 flex h-full w-80 flex-col",
                    children: [
                      (0, t.jsxs)("div", {
                        className:
                          "sticky top-0 hidden items-center gap-2 px-4 py-2 lg:flex",
                        children: [
                          (0, t.jsxs)(h, {
                            className: "flex-0 btn btn-ghost px-2 text-3xl",
                            to: "/",
                            children: [
                              (0, t.jsx)("span", {
                                className: "text-primary lowercase",
                                children: "hitwh",
                              }),
                              (0, t.jsx)("span", { children: "OJ" }),
                            ],
                          }),
                          (0, t.jsx)("a", {
                            className:
                              "link link-hover font-mono text-xs text-opacity-50",
                            href: "https://git.hit.edu.cn/hitwhoj/hitwhoj",
                            target: "_blank",
                            rel: "noreferrer",
                            children: h1,
                          }),
                        ],
                      }),
                      (0, t.jsxs)("ul", {
                        className:
                          "menu text-base-content w-80 flex-1 overflow-y-auto p-4",
                        children: [
                          (0, t.jsx)("li", {
                            children: (0, t.jsxs)(l, {
                              className: "flex gap-4",
                              to: "/",
                              children: [
                                (0, t.jsx)(N, { className: "h-6 w-6" }),
                                (0, t.jsx)("span", {
                                  children: "\u9996\u9875",
                                }),
                              ],
                            }),
                          }),
                          (0, t.jsx)("li", {
                            children: (0, t.jsxs)(l, {
                              className: "flex gap-4",
                              to: "/problem",
                              children: [
                                (0, t.jsx)(A, { className: "h-6 w-6" }),
                                (0, t.jsx)("span", {
                                  children: "\u9898\u76EE",
                                }),
                              ],
                            }),
                          }),
                          (0, t.jsx)("li", {
                            children: (0, t.jsxs)(l, {
                              className: "flex gap-4",
                              to: "/problemset",
                              children: [
                                (0, t.jsx)(P, { className: "h-6 w-6" }),
                                (0, t.jsx)("span", {
                                  children: "\u9898\u5355",
                                }),
                              ],
                            }),
                          }),
                          (0, t.jsx)("li", {
                            children: (0, t.jsxs)(l, {
                              className: "flex gap-4",
                              to: "/contest",
                              children: [
                                (0, t.jsx)(U, { className: "h-6 w-6" }),
                                (0, t.jsx)("span", {
                                  children: "\u6BD4\u8D5B",
                                }),
                              ],
                            }),
                          }),
                          (0, t.jsx)("li", {
                            children: (0, t.jsxs)(l, {
                              className: "flex gap-4",
                              to: "/team",
                              children: [
                                (0, t.jsx)(K, { className: "h-6 w-6" }),
                                (0, t.jsx)("span", {
                                  children: "\u56E2\u961F",
                                }),
                              ],
                            }),
                          }),
                          (0, t.jsx)("li", {
                            children: (0, t.jsxs)(l, {
                              className: "flex gap-4",
                              to: i.value
                                ? `/record?uid=${i.value.id}`
                                : "/record",
                              children: [
                                (0, t.jsx)(E, { className: "h-6 w-6" }),
                                (0, t.jsx)("span", {
                                  children: "\u8BC4\u6D4B",
                                }),
                              ],
                            }),
                          }),
                          (0, t.jsx)("li", {
                            children: (0, t.jsxs)(l, {
                              className: "flex gap-4",
                              to: "/docs",
                              children: [
                                (0, t.jsx)(X, { className: "h-6 w-6" }),
                                (0, t.jsx)("span", {
                                  children: "\u6587\u6863",
                                }),
                              ],
                            }),
                          }),
                          (0, t.jsx)("li", {
                            children: (0, t.jsxs)(l, {
                              className: "flex gap-4",
                              to: "/playground",
                              children: [
                                (0, t.jsx)(R, { className: "h-6 w-6" }),
                                (0, t.jsx)("span", {
                                  children: "\u5728\u7EBF\u7F16\u7A0B",
                                }),
                              ],
                            }),
                          }),
                        ],
                      }),
                    ],
                  }),
                ],
              }),
            ],
          }),
          u.value.length > 0 &&
            (0, t.jsx)("div", {
              className:
                "toast toast-center toast-top pointer-events-none w-full items-center",
              children: u.value.map((c, a) =>
                (0, t.jsx)(
                  "div",
                  {
                    className: "pointer-events-auto max-w-sm",
                    children: (0, t.jsx)("div", {
                      className: `alert ${C1[c.type]}`,
                      children: (0, t.jsx)("span", { children: c.message }),
                    }),
                  },
                  a
                )
              ),
            }),
          (0, t.jsx)(B, {}),
          (0, t.jsx)(C, {}),
          !1,
        ],
      }),
    ],
  });
}
export { r1 as CatchBoundary, l1 as ErrorBoundary, z1 as default, H1 as links };
